<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Matematyka: Trening Mistrza</title>
<style>
    body { font-family: 'Verdana', sans-serif; background-color: #fff3e0; padding: 10px; text-align: center; }
    #quiz-container { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
    h1 { color: #e65100; margin-bottom: 10px; font-size: 1.5em; }
    .question { font-size: 1.3em; margin-bottom: 20px; font-weight: bold; color: #333; }
    
    /* Nowy styl dla przycisku podpowiedzi */
    .hint-btn { background-color: #ffca28; color: #333; font-weight: bold; padding: 10px 20px; border: none; border-radius: 20px; cursor: pointer; margin-bottom: 15px; display: inline-block; }
    .hint-text { display: none; background-color: #fff8e1; border: 1px dashed #ffb300; padding: 10px; margin: 10px 0; color: #555; font-style: italic; }

    .btn { display: block; width: 100%; padding: 18px; margin: 10px 0; font-size: 1.2em; cursor: pointer; background-color: #ff9800; color: white; border: none; border-radius: 12px; transition: 0.2s; }
    .btn:disabled { background-color: #ccc; cursor: not-allowed; }
    .feedback { font-size: 1.2em; margin-top: 15px; font-weight: bold; min-height: 30px; }
    .correct { color: green; }
    .wrong { color: red; }
    #question-image { max-width: 100%; height: auto; border-radius: 10px; border: 2px solid #ddd; display: none; margin: 0 auto 15px auto; }
</style>
</head>
<body>

<div id="quiz-container">
    <h1>üìê Geometria: Tajna Bro≈Ñ</h1>
    <div id="progress" style="margin-bottom:15px; color:#666;">≈Åadowanie...</div>
    
    <img id="question-image" src="" alt="Zadanie">
    
    <div id="question-text" class="question"></div>

    <button id="hint-toggle" class="hint-btn" onclick="toggleHint()">üí° Potrzebujƒô ko≈Ça ratunkowego</button>
    <div id="hint-box" class="hint-text"></div>
    
    <div id="answers"></div>
    <div id="feedback" class="feedback"></div>
    <button id="next-btn" class="btn" style="background-color: #2196F3; display:none; margin-top:20px;" onclick="nextQuestion()">Nastƒôpne pytanie ‚û°Ô∏è</button>
</div>

<script>
    // BAZA PYTA≈É Z PODPOWIEDZIAMI
    const rawQuestions = [
        // --- GEOMETRIA P≈ÅASKA (KƒÑTY) ---
        {
            q: "Zadanie 5: Sp√≥jrz na tr√≥jkƒÖt. Mamy kƒÖty 80¬∞ i 40¬∞. Ile musi mieƒá trzeci kƒÖt (x), skoro suma to zawsze 180¬∞?",
            imgSrc: "zad5.jpg",
            hint: "Dzia≈Çanie: 180 - (80 + 40) = ...",
            a: ["60¬∞", "100¬∞", "40¬∞", "120¬∞"],
            correct: 0
        },
        {
            q: "Zadanie 6: To sƒÖ kƒÖty wierzcho≈Çkowe (le≈ºƒÖ naprzeciwko siebie). JakƒÖ miarƒô ma kƒÖt x?",
            imgSrc: "zad6.jpg",
            hint: "KƒÖty wierzcho≈Çkowe sƒÖ zawsze R√ìWNE.",
            a: ["40¬∞", "140¬∞", "180¬∞", "90¬∞"],
            correct: 0
        },
        {
            q: "Jak nazywamy kƒÖt, kt√≥ry jest wiƒôkszy ni≈º 180¬∞ (wyglƒÖda jak nadgryzione ciastko)?",
            imgSrc: null, // Tu nie trzeba obrazka, ƒáwiczymy wyobra≈∫niƒô/nazwƒô
            hint: "Jest 'wklƒô≈õniƒôty' do ≈õrodka.",
            a: ["KƒÖt wklƒôs≈Çy", "KƒÖt rozwarty", "KƒÖt p√≥≈Çpe≈Çny", "KƒÖt ostry"],
            correct: 0
        },

        // --- POLA FIGUR (LICZENIE) ---
        {
            q: "Zadanie 11: Oblicz pole tr√≥jkƒÖta. Podstawa a=8 cm, wysoko≈õƒá h=3 cm.",
            imgSrc: "zad11.jpg",
            hint: "Wz√≥r na tr√≥jkƒÖt: (a * h) / 2. Czyli (8 * 3) podzielone na p√≥≈Ç.",
            a: ["12 cm¬≤", "24 cm¬≤", "11 cm¬≤", "6 cm¬≤"],
            correct: 0
        },
        {
            q: "Zadanie 12: Oblicz pole r√≥wnoleg≈Çoboku. Podstawa a=7 cm, wysoko≈õƒá h=5 cm.",
            imgSrc: "zad12.jpg",
            hint: "Wz√≥r na r√≥wnoleg≈Çobok to po prostu: a * h. Nie dzielimy na p√≥≈Ç!",
            a: ["35 cm¬≤", "17,5 cm¬≤", "12 cm¬≤", "70 cm¬≤"],
            correct: 0
        },
        {
            q: "Zadanie 9: Jakie pole ma kwadrat o boku a=4 cm?",
            imgSrc: null,
            hint: "Pole kwadratu to bok razy bok (a * a).",
            a: ["16 cm¬≤", "8 cm¬≤", "20 cm¬≤", "12 cm¬≤"],
            correct: 0
        },
        {
            q: "Zadanie 13 (Dla ambitnych): Ta figura to trapez. G√≥rna podstawa ma 5cm, dolna ma 7cm (5+2), wysoko≈õƒá 3cm.",
            imgSrc: "zad13.jpg",
            hint: "Mo≈ºesz to policzyƒá jako ProstokƒÖt (5*3) dodaƒá Tr√≥jkƒÖt (2*3 / 2).",
            a: ["18 cm¬≤", "15 cm¬≤", "21 cm¬≤", "35 cm¬≤"],
            correct: 0
            // Wyja≈õnienie dla Ciebie: ProstokƒÖt 15 + Tr√≥jkƒÖt 3 = 18.
        },

        // --- JEDNOSTKI ---
        {
            q: "Zadanie 10: Zamiana jednostek. 4 ary (a) - ile to metr√≥w kwadratowych?",
            imgSrc: null,
            hint: "Jeden ar to kwadrat 10m na 10m, czyli ma 100 m¬≤. Pomn√≥≈º 4 * 100.",
            a: ["400 m¬≤", "40 m¬≤", "4000 m¬≤", "4 m¬≤"],
            correct: 0
        },
        {
            q: "Ile stopni ma suma kƒÖt√≥w wewnƒôtrznych w KA≈ªDYM tr√≥jkƒÖcie?",
            imgSrc: null,
            hint: "Zapamiƒôtaj liczbƒô magicznƒÖ dla tr√≥jkƒÖt√≥w. KƒÖt p√≥≈Çpe≈Çny.",
            a: ["180¬∞", "360¬∞", "90¬∞", "100¬∞"],
            correct: 0
        }
    ];

    let questions = [];
    let currentQuestion = 0;
    let score = 0;

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function initQuiz() {
        let allQuestions = JSON.parse(JSON.stringify(rawQuestions));
        shuffleArray(allQuestions);
        questions = allQuestions;
        currentQuestion = 0;
        score = 0;
        loadQuestion();
    }

    function loadQuestion() {
        const q = questions[currentQuestion];
        
        // Resetujemy widok podpowiedzi
        document.getElementById('hint-box').style.display = "none";
        document.getElementById('hint-toggle').style.display = "inline-block"; // Poka≈º przycisk
        
        // Je≈õli pytanie nie ma podpowiedzi (pole hint jest puste), ukryj przycisk
        if (!q.hint) {
            document.getElementById('hint-toggle').style.display = "none";
        } else {
            document.getElementById('hint-box').textContent = q.hint;
        }

        // Obrazek
        const imgElement = document.getElementById('question-image');
        if (q.imgSrc) {
            imgElement.src = q.imgSrc;
            imgElement.style.display = "block";
        } else {
            imgElement.style.display = "none";
        }

        document.getElementById('question-text').textContent = q.q;
        document.getElementById('progress').textContent = `Pytanie ${currentQuestion + 1} z ${questions.length}`;
        document.getElementById('feedback').textContent = "";
        document.getElementById('feedback').className = "feedback";
        document.getElementById('next-btn').style.display = "none";
        
        const answersDiv = document.getElementById('answers');
        answersDiv.innerHTML = "";

        let answers = q.a.map((text, index) => {
            return { text: text, isCorrect: (index === q.correct) };
        });
        
        shuffleArray(answers);

        answers.forEach((ans) => {
            const btn = document.createElement('button');
            btn.className = 'btn';
            btn.textContent = ans.text;
            btn.onclick = () => checkAnswer(ans.isCorrect, btn, answers);
            answersDiv.appendChild(btn);
        });
    }

    function toggleHint() {
        const hintBox = document.getElementById('hint-box');
        if (hintBox.style.display === "none") {
            hintBox.style.display = "block";
        } else {
            hintBox.style.display = "none";
        }
    }

    function checkAnswer(isCorrect, btnElement, allAnswers) {
        const buttons = document.querySelectorAll('#answers .btn');
        buttons.forEach(btn => btn.disabled = true);

        // Ukryj przycisk podpowiedzi po odpowiedzi, ≈ºeby nie rozprasza≈Ç
        document.getElementById('hint-toggle').style.display = "none"; 
        document.getElementById('hint-box').style.display = "none";

        if (isCorrect) {
            btnElement.style.backgroundColor = "#4CAF50";
            document.getElementById('feedback').textContent = "Brawo! Jeste≈õ wielka! üåü"; // Wzmocnienie pozytywne
            document.getElementById('feedback').className = "feedback correct";
            score++;
        } else {
            btnElement.style.backgroundColor = "#f44336";
            document.getElementById('feedback').textContent = "Jeszcze chwila treningu i bƒôdzie dobrze.";
            document.getElementById('feedback').className = "feedback wrong";
            
            const correctAnsObj = allAnswers.find(a => a.isCorrect);
            buttons.forEach(b => {
                if (b.textContent === correctAnsObj.text) {
                    b.style.backgroundColor = "#4CAF50";
                }
            });
        }
        document.getElementById('next-btn').style.display = "block";
    }

    function nextQuestion() {
        currentQuestion++;
        if (currentQuestion < questions.length) {
            loadQuestion();
        } else {
            document.getElementById('quiz-container').innerHTML = `
                <h1>Koniec treningu!</h1>
                <div style="font-size:1.5em; color:#e65100; margin:20px;">Tw√≥j wynik: ${score} / ${questions.length}</div>
                <p>Niewa≈ºne co m√≥wiƒÖ w szkole - tutaj rzƒÖdzisz Ty! üòé</p>
                <button class="btn" onclick="location.reload()">Jeszcze raz</button>
            `;
        }
    }

    initQuiz();
</script>

</body>
</html>
